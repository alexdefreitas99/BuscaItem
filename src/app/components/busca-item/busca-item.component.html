<div class="input-group mb-3" id="busca">
  <input type="text" class="form-control" placeholder="Digite algo referente ao item desejado" #nome
    (keyup.enter)="buscaProduto(nome.value)">
  <button type="button" (click)="buscaProduto(nome.value)" class="btn btn-primary"> Pesquisar Item </button>
</div>

<table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">Cod. Item</th>
      <th scope="col">Nome</th>
      <th scope="col">Estoque</th>
      <th scope="col">Preço de Venda</th>
      <th scope="col">Preço de Fidelidade</th>
      <th scope="col">Decrição</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of listItemDetalheResponse" (click)="openModal(template, item)">
      <td> {{ item.codigo }}</td>
      <td> {{ item.nomenclatura }} </td>
      <td> {{ item.estoque }} </td>
      <td> R$ {{ item.preco?.precoVenda }} </td>
      <td> R$ {{ item.preco?.precoFidelidade }} </td>
      <td> {{ item.descricaoMarcaPai }} </td>
    </tr>
  </tbody>
</table>


<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left"> {{ item.nomenclatura }} </h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <table class="pull-left col-md-8 ">
      <tbody>
        <tr>
          <td class="h6"><strong>Codigo:</strong></td>
          <td> </td>
          <td class="h5"> {{item.codigo}}</td>
        </tr>
        <tr>
          <td class="h6"><strong>Nomenclatura:</strong></td>
          <td> </td>
          <td class="h5"> {{item.nomenclaturaDetalhada}}</td>
        </tr>
        <tr>
          <td class="h6"><strong>Principio ativo:</strong></td>
          <td> </td>
          <td class="h5"> {{item.principioAtivo}}</td>
        </tr>
        <tr>
          <td class="h6"><strong>Classe terapeutica:</strong></td>
          <td> </td>
          <td class="h5"> {{item.classeTerapeutica}}</td>
        </tr>
        <tr>
          <td class="h6"><strong>Preço de:</strong></td>
          <td> </td>
          <td class="h5">R$ {{item.preco.precoVenda}}</td>
        </tr>
        <tr>
          <td class="h6"><strong>Preço por:</strong></td>
          <td> </td>
          <td class="h5">R$ {{item.preco.precoPor}}</td>
        </tr>
      </tbody>
    </table>
    <div class="col-md-4">
      <img [src]="item.dadosImagens[0]?.url" alt="Sem Imagem" class="img-thumbnail">
    </div>
    <div class="clearfix"></div>
    <p class="open_info hide">{{item.advertencias}}</p>
  </div>

  <div class="modal-footer">
    <div class="text-right pull-right col-md-3">
      Preço de: <br />
      <span class="h3 text-muted"><strong>R$ {{item.precoPor}}</strong></span>
    </div>

    <div class="text-right pull-right col-md-3">
      Preço por: <br />
      <span class="h3 text-muted"><strong>R$ {{item.precoPor}}</strong></span>
    </div>
  </div>

</ng-template>
